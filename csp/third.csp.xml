<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="third.CSP" application="/csp/vacancy/"><![CDATA[
<!-- blocked by {MDG.CTP} -->
<!doctype html>

<script language="javascript">
var items=1;
function AddItem() {
  div=document.getElementById("items");
  button=document.getElementById("add");
  items++;
  newitem="<strong>URL: " + items + ": </strong>";
  newitem+="<input type=\"text\" name=\"item" + items;
  newitem+="\" size=\"45\"><br>";
  newnode=document.createElement("span");
  newnode.innerHTML=newitem;
  div.insertBefore(newnode,button);
}
</script>





<html ng-app>
<head>
    <meta charset="utf-8">
	<title>Vacancy</title>
<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
</head>
<style>
	.block1 {
			height:50px;
			background:magenta;
	       }
	
</style>

<body  ng-controller="control">
<div class="container">
<CSP:INCLUDE PAGE="menu.csp">
<h1 ng-hide="true">
 {{company=companies[vacancy[0].Company]}}
 {{company.Adress_City}}
 </h1>
<h1>
Добавление/Удаление/Изменение Вакансии
</h1>
 {{alert2}}

		<!-- пока не понял как выдернуть данные из объекта без цикла -->
	    <div class="row">
	    <article class="span12">
				<p>
				<ul class='nav nav-tabs nav-stacked'>
				<li>
				
				<form name="myForm" ng-model="vacancy" ng-submit="update(vacancy); myForm.$setPristine();">
				Должность <input type="text" ng-model="vacancy[0].VacancyName"/> <li>
				Требуемые умения <input type="text" ng-model="vacancy[0].Skills"/><li>
				Подходящие должности <input type="text" ng-model="vacancy[0].VacancyTypes"/><li>
				<!--
				Требуемое образование <input type="text" ng-model="vacancy[0].EduLevel"/><li>
				Учебное зеведение <input type="text" ng-model="vacancy[0].Institution"/><li>
				-->
				Начальная зарплата <input type="text" ng-model="vacancy[0].StartSalary"/><li>
				Конечная зарплата  <input type="text" ng-model="vacancy[0].EndSalary"/><li>
				Ссылки на размещённые ресурсы  <input type="text" ng-model="vacancy[0].Links"/>
				<!--
				<form name="myForm" >
				<div ID="items">
				       <input type="submit" value="+" onClick="AddItem();" ID="add" /><li>
				 </div>
				 </form>
				
				
				<div ng-repeat="company in companies">
                <form name="myForm" ng-submit="update(company); myForm.$setPristine();">
                <input type="text" ng-model="company.Name"/>
                <input type="submit" value="Сохранить" ng-show="myForm.$dirty"/>
                <input type="button" value="X" ng-click="delete(company);"/>
                </form>
                </div>
                  
				   <form name="myForm" >
				   <div ID="items">
				       <input type="submit" value="+" onClick="AddItem();" ID="add" /><li>
				  </div>
				   </form>
                   
				<form name="CreateURL" ng-model="vacancy" ng-submit="create(vacancy.Links); vacancy.Links='';">
				новый URL <input type="text" ng-model="vacancy.Links"/>
				<input type="submit" value="+"/>
				</form>
				 -->
				
				
				<li>
				<li>
				<input type="submit" value="Сохранить" ng-show="myForm.$dirty"/>
                <input type="button" value="Удалить" ng-click="deletevacancy(vacancy);"/>
                </form>
			
				<H2> в компанию 
				<a href='{{company.Adress_URL}}'>{{vacancy[0].CompanyName}}</a></h2>
				Зарплата от {{vacancy[0].StartSalary}} до {{vacancy[0].EndSalary}}
				<br> Образование {{vacancy[0].EduLevel}}<hr>
				
				<font size='1px'><br>Дата регистрации {{vacancy[0].RegDate}}</font>
				
				</li>
				</ul>
				</p>
			</article>
	    </div>
	    <form name="vCreateForm" ng-model="newvacancy" ng-submit="createvacancy(newvacancy); newvacancy.Name='';">
новая компания <input type="text" ng-model="newvacancy.Name"/>
<input type="submit" value="Сохранить"/>
</form>
		<div id="footer">
			<div class=""></div>
			
		</div>
	
	</div>
    <CSP:INCLUDE PAGE="bootstrap/js/mdg_lib.js">
       $scope.getCompanies();
       $scope.getVacancy(#($Get(%request.Data("id",1),1))#);
      }//control
	</script>
</body>
</html>

]]></CSP>
</Export>
