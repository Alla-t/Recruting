<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<CSP name="Bootstrap/js/mdg_lib.js" application="/csp/vacancy/"><![CDATA[
function control ($scope,$http){
			$scope.getVacancies=function(){
		// надо будет какую то универсальную относительную ссылку - у меня
		// только абсолютная работает
		$http.get("/v/json/vacancies").success(function(data){
			$scope.vacancies=data.children;}).error(function(data,status){
			$scope.alertzone="["+status+"] Ошибка загрузки списка вакансий :( ["+data+"]"; });
			
		    }
	 
	 $scope.getCompanies=function(){
		$http.get("/v/json/companies").success(function(data){
			$scope.companies=data.children;}).error(function(data,status){
			$scope.alertzone="["+status+"] Ошибка загрузки списка компаний :( ["+data+"]"; });
			
		    }
		$scope.getCompany=function(compid){
		$http.get("/v/json/company/"+compid).success(function(data){
			$scope.company=data.children;}).error(function(data,status){
			$scope.alertzone="["+status+"] Ошибка загрузки компании :( ["+data+"]"; });
			
		    }
		 
		 $scope.getVacancy=function(compid){
		$http.get("/v/json/vacancy/"+compid).success(function(data){
			$scope.vacancy=data.children;}).error(function(data,status){
			$scope.alertzone="["+status+"] Ошибка загрузки вакансии :( ["+data+"]"; });
			
		    }   
	 $scope.getVacancies();
	$scope.getCompanies();
    
}]]></CSP>
</Export>
